[[source]]
url = "https://pypi.org/simple"
verify_ssl = true
name = "pypi"

[packages]
django = {version = "~=4.1", extras = ["argon2"]}
# Postgres
psycopg2 = "*"
# 3rd Party ( Middlewares )
django_cleanup = "*"
django_cors_headers = "*"
# 3rd Party ( ENV )
python_dotenv = "*"
# 3rd Party ( WhiteNoise )
whitenoise = {extras = ["brotli"], version = "*"}
# 3rd Party ( Tasks )
huey = "*"
redis = "*"
hiredis = {version="*", markers="sys_platform != 'win32'"}
# Rest framework
django_ninja = "*"
# Remove when
# https://github.com/vitalik/django-ninja/issues/305
django-ninja-jwt = "*"
# HTTP Client
requests = "*"
requests_cache = "*"
requests_ratelimiter = "*"
# Web servers
gunicorn = {extras = ["setproctile"], version = "*"}
uvicorn = {extras = ["standard"], version = "*"}
# Image processing
pillow = "*"
# Discord API
"discord.py" = {extras = ["voice","speed"], version = "*"}

[dev_packages]
django_debug_toolbar = "*"
django_dbbackup = "*"
django_cprofile_middleware = "*"
## Code formatting
# Black
black = "*"
# Flake8
flake8 = "*"
# Pylint
pylint = "*"
pylint_django = "*"
# Mypy
mypy = "*"
types_requests = "*"
types_redis = "*"
django_stubs = {extras = ["compatible_mypy"], version = "*"}

[requires]
python_version = "3.10"

[scripts]
##  Server
dev = "python manage.py runserver"
prod = "gunicorn core.asgi:application -w 4 -k uvicorn.workers.UvicornWorker" # For linux only
##  Migrations
sync = "python manage.py migrate"
mksync = "python manage.py makemigrations"
## Task queue
huey = "python manage.py run_huey"
## Staticfiles
collectstatic = "python manage.py collectstatic --clear --link" # Dont duplicate copy files.

[pipenv]
allow_prereleases = true
